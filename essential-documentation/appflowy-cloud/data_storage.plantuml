@startuml
autonumber

participant "Runtime Loop" as R
participant "Document A" as A
participant "Document B" as B
participant "Document C" as C
participant "RemoteCollabStorage" as RCS
database "Supabase Postgres" as S

par "Simultaneous Updates from Documents"
    A -> R: Update from A
    B -> R: Update from B
    C -> R: Update from C
end par

activate R

R -> RCS: Process Update A
activate RCS
RCS -> S: Send Processed Update A to DB
S --> RCS: Acknowledge Update A
RCS --> R: Update A Processed
deactivate RCS

R -> RCS: Process Update B
activate RCS
RCS -> S: Send Processed Update B to DB
S --> RCS: Acknowledge Update B
RCS --> R: Update B Processed
deactivate RCS

R -> RCS: Process Update C
activate RCS
RCS -> S: Send Processed Update C to DB
S --> RCS: Acknowledge Update C
RCS --> R: Update C Processed
deactivate RCS

deactivate R

@enduml
